@model PegazusERP.DTO.ProdutoDTO

@{
    var addEdit = Model.Id == 0 ? "Adicionar" : "Editar";
}

@Html.Partial("_Mensagens")
<div class="recipiente-pagina">

    <h4><i class="fa fa-edit"></i> @addEdit Produto</h4>

    @using (Ajax.BeginForm("POSTEditar", "Produto", new AjaxOptions { UpdateTargetId = "content", InsertionMode = InsertionMode.Replace, HttpMethod = "Post", OnFailure = "OnFailure", OnSuccess = "OnSuccess" }, new { @class = "smart-form" }))
    {
        @Html.ValidationSummary(true)
        @Html.AntiForgeryToken()
        @Html.HiddenFor(model => model.Id)

        <fieldset>
            @*<div class="media">
                <a class="pull-left" href="javascript:void(0);"> <img class="media-object" alt="64x64" src="~/Content/smart/img/demo/sample.jpg"> </a>
                <div class="media-body">
                </div>
            </div>*@
            <br/>
            <div>
                <section>
                    <label for="Nome" class="label obrigatorio">Nome</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.Nome, new { maxlength = "128" })
                    </label>
                    @Html.ValidationMessageFor(model => model.Nome)
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label for="" class="label">Marca</label>
                    <label class="select">
                        @Html.DropDownListFor(model => model.MarcaProdutoId,(IEnumerable<SelectListItem>)ViewBag.Marca,"", new { @class= "select2"})
                    </label>
                    @Html.ValidationMessageFor(model => model.MarcaProdutoId)
                </section>
                <section class="col col-6">
                    <label for="" class="label">Categoria</label>
                    <label class="select">
                        @Html.DropDownListFor(model => model.CategoriaProdutoId, (IEnumerable<SelectListItem>)ViewBag.Categoria,"", new { @class = "select2" })
                    </label>
                    @Html.ValidationMessageFor(model => model.CategoriaProdutoId)
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label for="" class="label obrigatorio">Tipo</label>
                    <label class="select">
                        @Html.EnumDropDownListFor(model => model.TipoProduto, new { @class = "select2" })
                    </label>
                    @Html.ValidationMessageFor(model => model.TipoProduto)
                </section>
                <section class="col col-6">
                    <label for="" class="label">Código de Barras</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.CodigoBarras)
                    </label>
                    @Html.ValidationMessageFor(model => model.CodigoBarras)
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label for="" class="label">Modelo</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.Modelo)
                    </label>
                    @Html.ValidationMessageFor(model => model.Modelo)
                </section>
                <section class="col col-6">
                    <label for="" class="label obrigatorio">Unidade</label>
                    <label class="select">
                        @Html.EnumDropDownListFor(model => model.Unidade)
                        <i></i>
                    </label>
                    @Html.ValidationMessageFor(model => model.Unidade)
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label for="" class="label obrigatorio">Custo</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.Custo, new { @class="valor"})
                    </label>
                </section>
                <section class="col col-6">
                    <label for="" class="label obrigatorio">Venda</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.Venda, new { @class="valor"})
                    </label>
                    @Html.ValidationMessageFor(model => model.Venda)
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label for="" class="label">NCM</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.Ncm)
                    </label>
                    @Html.ValidationMessageFor(model => model.Ncm)
                </section>
                @*<section class="col col-3">
                    <label for="" class="label">Tipo NCM</label>
                    <label class="select">
                        @Html.EnumDropDownListFor(model => model.TipoNcm)
                        <i></i>
                    </label>
                    @Html.ValidationMessageFor(model => model.TipoNcm)
                </section>*@
                <section class="col col-6">
                    <label for="" class="label">Natureza Econômica</label>
                    <label class="select">
                        @Html.EnumDropDownListFor(model => model.NaturezaEconomica)
                        <i></i>
                    </label>
                    @Html.ValidationMessageFor(model => model.NaturezaEconomica)
                </section>
            </div>
            <div class="row">
                <section class="col col-6">
                    <label for="" class="label">Obejtivo Comercial</label>
                    <label class="select">
                        @Html.EnumDropDownListFor(model => model.ObjetivoComercial)
                        <i></i>
                    </label>
                    @Html.ValidationMessageFor(model => model.ObjetivoComercial)
                </section>
                <section class="col col-3">
                    <label for="" class="label">Referência</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.Referencia)
                        <i></i>
                    </label>
                    @Html.ValidationMessageFor(model => model.Referencia)
                </section>
                <section class="col col-3">
                    <label for="" class="label">Referência Auxiliar</label>
                    <label class="input">
                        @Html.TextBoxFor(model => model.ReferenciaAux)
                        <i></i>
                    </label>
                    @Html.ValidationMessageFor(model => model.ReferenciaAux)
                </section>
            </div>
            <div>
                <section class="col col-3">
                    <label class="label">&nbsp;</label>
                    <label class="checkbox">
                        @Html.CheckBoxFor(c => c.Ativo, false) Ativo
                        <i></i>
                    </label>
                </section>
                <section class="col col-3">
                    <label class="label">&nbsp;</label>
                    <label class="checkbox">
                        @Html.CheckBoxFor(c => c.UsaBalanca, false) Usa Balança
                        <i></i>
                    </label>
                </section>
                <section class="col col-3">
                    <label class="label">&nbsp;</label>
                    <label class="checkbox">
                        @Html.CheckBoxFor(c => c.MovimentaEstoque, false) Movimenta Estoque
                        <i></i>
                    </label>
                </section>
                <section class="col col-3">
                    <label class="label">&nbsp;</label>
                    <label class="checkbox">
                        @Html.CheckBoxFor(c => c.AceitaSaldoNegativo, false) Aceita Saldo Negativo
                        <i></i>
                    </label>
                </section>
            </div>
            
        </fieldset>
        <footer>
            <button type="submit" class="btn btn-primary" data-loading-text="Salvando..."><i class="fa fa-save"></i> Salvar</button>
            @if (Model.Id > 0)
            {
                <button type="button" class="btn btn-danger" id="btn_excluir"><i class="fa fa-trash-o"></i> Excluir</button>
            }
            <button type="button" class="btn btn-default" onclick="CarregarPaginaAjax('@Url.Action("Index", "Produto")')"><i class="fa fa-arrow-left"></i> Voltar</button>
        </footer>
    }

</div>

<script src="@Url.Content("~/Scripts/modulos/produtoEditar.js")" type="text/javascript"></script>

